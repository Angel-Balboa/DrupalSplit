/* @license GNU GPL v2 https://www.drupal.org/about/licensing */
(function($,Drupal,drupalSettings,once){'use strict';if(typeof $!=="undefined"&&typeof $.trim==="undefined")$.trim=function(text){if(text==null)return "";return String.prototype.trim.call(String(text));};$.fn.oldChosen=$.fn.chosen;$.fn.chosen=function(options){var select=$(this),is_creating_chosen=!!options;if(is_creating_chosen&&select.css('position')==='absolute')select.removeAttr('style');var ret=select.oldChosen(options);if(is_creating_chosen&&select.css('display')==='none'){select.attr('style','display:visible; position:absolute; width:0px; height: 0px; clip:rect(0,0,0,0)');select.attr('tabindex',-1);}return ret;};$(document).on('state:disabled','select',function(e){$(e.target).trigger('chosen:updated');});Drupal.behaviors.chosen={settings:{ignoreSelector:'#field-ui-field-storage-add-form select, #entity-form-display-edit-form select, #entity-view-display-edit-form select, .wysiwyg, .draggable select[name$="[weight]"], .draggable select[name$="[position]"], .locale-translate-filter-form select, .chosen-disable, .chosen-processed',optedInSelector:'select.chosen-enable',selector:'select:visible'},attach:function(context,settings){this.settings=this.getSettings(settings);$(once('chosen',this.getElements(context))).each(function(i,element){this.createChosen(element);}.bind(this));},createChosen:function(element){var $element=$(element);$element.chosen(this.getElementOptions($element));},filterElements:function(element){var $element=$(element);if($element.is(this.settings.ignoreSelector))return false;var minOptions=$element.attr('multiple')?this.settings.minimum_multiple:this.settings.minimum_single;return !minOptions||$element.find('option').length>=minOptions;},getElements:function(context,selector){var $context=$(context||document);var $elements=$context.find(selector||this.settings.selector);$elements=$elements.filter(function(i,element){return this.filterElements(element);}.bind(this));$elements=$elements.add($context.find(this.settings.optedInSelector));return $elements;},getElementOptions:function(element){var $element=$(element);var options=$.extend({},this.settings.options);var dimension;var width;if(this.settings.minimum_width>0){if(this.settings.use_relative_width){dimension='%';width=($element.width()/$element.parent().width()*100).toPrecision(5);}else{dimension='px';width=$element.width();}if(width<this.settings.minimum_width)options.width=this.settings.minimum_width+dimension;else options.width=width+dimension;}var cardinality;if($element.attr('multiple')&&(cardinality=$element.data('cardinality')))options.max_selected_options=cardinality;return options;},getSettings:function(settings){return $.extend(true,{},this.settings,settings&&settings.chosen||drupalSettings.chosen);}};})(jQuery,Drupal,drupalSettings,once);;
